[{"id":0,"callable":"complex_app.py","module":"__main__","called":"complex_app.py","inputs":{},"output":null,"error":null,"duration_ms":2244.911,"calls":[{"id":2,"callable":"checkout","module":"samples.complex.demo.services.checkout","called":"checkout","caller":"main::main","instance_id":null,"inputs":{"lines":[["coffee",2],["cookie",4],["tea",1]],"loyalty_points":350},"calls":[{"id":3,"callable":"price_line","module":"samples.complex.demo.services.checkout","called":"price_line","caller":"checkout::checkout","instance_id":null,"inputs":{"name":"coffee","qty":2,"loyalty_points":350},"calls":[{"id":4,"callable":"get_product","module":"samples.complex.demo.repository.products","called":"get_product","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"coffee"},"calls":[{"id":5,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"get_product::get_product","instance_id":null,"inputs":{"name":"get_product","payload":{"name":"coffee","price":3.5}},"calls":[{"id":6,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"get_product: {'name': 'coffee', 'price': 3.5}"},"calls":[],"memory_before":{},"inputs_after":{"message":"get_product: {'name': 'coffee', 'price': 3.5}"},"output":"[10:12:25] get_product: {'name': 'coffee', 'price': 3.5}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"get_product","payload":{"name":"coffee","price":3.5}},"output":{"name":"get_product","payload":{"name":"coffee","price":3.5},"logged":"[10:12:25] get_product: {'name': 'coffee', 'price': 3.5}"},"error":null,"duration_ms":4.009,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"coffee"},"output":{"name":"get_product","payload":{"name":"coffee","price":3.5},"logged":"[10:12:25] get_product: {'name': 'coffee', 'price': 3.5}"},"error":null,"duration_ms":4.009,"memory_after":{}},{"id":7,"callable":"apply_discounts","module":"samples.complex.demo.pricing.discounts","called":"apply_discounts","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"coffee","qty":2,"subtotal":7.0},"points":350},"calls":[{"id":8,"callable":"bulk_discount","module":"samples.complex.demo.pricing.discounts","called":"bulk_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":7.0,"items":2},"calls":[{"id":9,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"bulk_discount::bulk_discount","instance_id":null,"inputs":{"value":0.0,"low":0,"high":2.1},"calls":[],"memory_before":{},"inputs_after":{"value":0.0,"low":0,"high":2.1},"output":0,"error":null,"duration_ms":4.009,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":7.0,"items":2},"output":0,"error":null,"duration_ms":4.009,"memory_after":{}},{"id":10,"callable":"loyalty_discount","module":"samples.complex.demo.pricing.discounts","called":"loyalty_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":7.0,"points":350},"calls":[{"id":11,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"loyalty_discount::loyalty_discount","instance_id":null,"inputs":{"value":0.7000000000000001,"low":0,"high":1.05},"calls":[],"memory_before":{},"inputs_after":{"value":0.7000000000000001,"low":0,"high":1.05},"output":0.7000000000000001,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":7.0,"points":350},"output":0.7000000000000001,"error":null,"duration_ms":1.745,"memory_after":{}},{"id":12,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"name":"apply_discounts","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001}}},"calls":[{"id":13,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_discounts: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_discounts: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"},"output":"[10:12:25] apply_discounts: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_discounts","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001}}},"output":{"name":"apply_discounts","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"}},"logged":"[10:12:25] apply_discounts: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"coffee","qty":2,"subtotal":7.0},"points":350},"output":{"name":"apply_discounts","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"}},"logged":"[10:12:25] apply_discounts: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"},"error":null,"duration_ms":7.759,"memory_after":{}},{"id":14,"callable":"apply_tax_line","module":"samples.complex.demo.pricing.tax","called":"apply_tax_line","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001}},"rate":0.21},"calls":[{"id":15,"callable":"vat","module":"samples.complex.demo.pricing.tax","called":"vat","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"amount":6.3,"rate":0.21},"calls":[{"id":16,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"vat::vat","instance_id":null,"inputs":{"value":1.323,"low":0,"high":12.6},"calls":[],"memory_before":{},"inputs_after":{"value":1.323,"low":0,"high":12.6},"output":1.323,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"amount":6.3,"rate":0.21},"output":1.323,"error":null,"duration_ms":0.0,"memory_after":{}},{"id":17,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"name":"apply_tax_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001},"tax":1.323,"total":7.622999999999999}},"calls":[{"id":18,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_tax_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_tax_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999}"},"output":"[10:12:25] apply_tax_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_tax_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001},"tax":1.323,"total":7.622999999999999}},"output":{"name":"apply_tax_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"},"tax":1.323,"total":7.622999999999999},"logged":"[10:12:25] apply_tax_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999}"},"error":null,"duration_ms":16.055,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001}},"rate":0.21},"output":{"name":"apply_tax_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"},"tax":1.323,"total":7.622999999999999},"logged":"[10:12:25] apply_tax_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999}"},"error":null,"duration_ms":16.055,"memory_after":{}},{"id":19,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"price_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001},"tax":1.323,"total":7.622999999999999,"trace":{"product":{"name":"'coffee'","price":"3.5"},"discounts":{"name":"'coffee'","qty":"2","subtotal":"6.3","discounts":"{'bulk': 0, 'loyalty': 0.7000000000000001}"}}}},"calls":[{"id":20,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}"},"output":"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"price_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":0,"loyalty":0.7000000000000001},"tax":1.323,"total":7.622999999999999,"trace":{"product":{"name":"'coffee'","price":"3.5"},"discounts":{"name":"'coffee'","qty":"2","subtotal":"6.3","discounts":"{'bulk': 0, 'loyalty': 0.7000000000000001}"}}}},"output":{"name":"price_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"},"tax":1.323,"total":7.622999999999999,"trace":{"product":"{'name': 'coffee', 'price': 3.5}","discounts":"{'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"}},"logged":"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"coffee","qty":2,"loyalty_points":350},"output":{"name":"price_line","payload":{"name":"coffee","qty":2,"subtotal":6.3,"discounts":{"bulk":"0","loyalty":"0.7000000000000001"},"tax":1.323,"total":7.622999999999999,"trace":{"product":"{'name': 'coffee', 'price': 3.5}","discounts":"{'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}"}},"logged":"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}"},"error":null,"duration_ms":29.828,"memory_after":{}},{"id":21,"callable":"price_line","module":"samples.complex.demo.services.checkout","called":"price_line","caller":"checkout::checkout","instance_id":null,"inputs":{"name":"cookie","qty":4,"loyalty_points":350},"calls":[{"id":22,"callable":"get_product","module":"samples.complex.demo.repository.products","called":"get_product","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"cookie"},"calls":[{"id":23,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"get_product::get_product","instance_id":null,"inputs":{"name":"get_product","payload":{"name":"cookie","price":1.2}},"calls":[{"id":24,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"get_product: {'name': 'cookie', 'price': 1.2}"},"calls":[],"memory_before":{},"inputs_after":{"message":"get_product: {'name': 'cookie', 'price': 1.2}"},"output":"[10:12:25] get_product: {'name': 'cookie', 'price': 1.2}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"get_product","payload":{"name":"cookie","price":1.2}},"output":{"name":"get_product","payload":{"name":"cookie","price":1.2},"logged":"[10:12:25] get_product: {'name': 'cookie', 'price': 1.2}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"cookie"},"output":{"name":"get_product","payload":{"name":"cookie","price":1.2},"logged":"[10:12:25] get_product: {'name': 'cookie', 'price': 1.2}"},"error":null,"duration_ms":0.0,"memory_after":{}},{"id":25,"callable":"apply_discounts","module":"samples.complex.demo.pricing.discounts","called":"apply_discounts","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"cookie","qty":4,"subtotal":4.8},"points":350},"calls":[{"id":26,"callable":"bulk_discount","module":"samples.complex.demo.pricing.discounts","called":"bulk_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":4.8,"items":4},"calls":[{"id":27,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"bulk_discount::bulk_discount","instance_id":null,"inputs":{"value":0.24,"low":0,"high":1.44},"calls":[],"memory_before":{},"inputs_after":{"value":0.24,"low":0,"high":1.44},"output":0.24,"error":null,"duration_ms":16.154,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":4.8,"items":4},"output":0.24,"error":null,"duration_ms":16.154,"memory_after":{}},{"id":28,"callable":"loyalty_discount","module":"samples.complex.demo.pricing.discounts","called":"loyalty_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":4.8,"points":350},"calls":[{"id":29,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"loyalty_discount::loyalty_discount","instance_id":null,"inputs":{"value":0.48,"low":0,"high":0.72},"calls":[],"memory_before":{},"inputs_after":{"value":0.48,"low":0,"high":0.72},"output":0.48,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":4.8,"points":350},"output":0.48,"error":null,"duration_ms":0.0,"memory_after":{}},{"id":30,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"name":"apply_discounts","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48}}},"calls":[{"id":31,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_discounts: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_discounts: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"},"output":"[10:12:25] apply_discounts: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_discounts","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48}}},"output":{"name":"apply_discounts","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"}},"logged":"[10:12:25] apply_discounts: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"cookie","qty":4,"subtotal":4.8},"points":350},"output":{"name":"apply_discounts","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"}},"logged":"[10:12:25] apply_discounts: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"},"error":null,"duration_ms":16.154,"memory_after":{}},{"id":32,"callable":"apply_tax_line","module":"samples.complex.demo.pricing.tax","called":"apply_tax_line","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48}},"rate":0.21},"calls":[{"id":33,"callable":"vat","module":"samples.complex.demo.pricing.tax","called":"vat","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"amount":4.08,"rate":0.21},"calls":[{"id":34,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"vat::vat","instance_id":null,"inputs":{"value":0.8568,"low":0,"high":8.16},"calls":[],"memory_before":{},"inputs_after":{"value":0.8568,"low":0,"high":8.16},"output":0.8568,"error":null,"duration_ms":15.71,"memory_after":{}}],"memory_before":{},"inputs_after":{"amount":4.08,"rate":0.21},"output":0.8568,"error":null,"duration_ms":15.71,"memory_after":{}},{"id":35,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"name":"apply_tax_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48},"tax":0.8568,"total":4.9368}},"calls":[{"id":36,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_tax_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_tax_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368}"},"output":"[10:12:25] apply_tax_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_tax_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48},"tax":0.8568,"total":4.9368}},"output":{"name":"apply_tax_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"},"tax":0.8568,"total":4.9368},"logged":"[10:12:25] apply_tax_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48}},"rate":0.21},"output":{"name":"apply_tax_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"},"tax":0.8568,"total":4.9368},"logged":"[10:12:25] apply_tax_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368}"},"error":null,"duration_ms":15.71,"memory_after":{}},{"id":37,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"price_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48},"tax":0.8568,"total":4.9368,"trace":{"product":{"name":"'cookie'","price":"1.2"},"discounts":{"name":"'cookie'","qty":"4","subtotal":"4.08","discounts":"{'bulk': 0.24, 'loyalty': 0.48}"}}}},"calls":[{"id":38,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}"},"output":"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"price_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":0.24,"loyalty":0.48},"tax":0.8568,"total":4.9368,"trace":{"product":{"name":"'cookie'","price":"1.2"},"discounts":{"name":"'cookie'","qty":"4","subtotal":"4.08","discounts":"{'bulk': 0.24, 'loyalty': 0.48}"}}}},"output":{"name":"price_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"},"tax":0.8568,"total":4.9368,"trace":{"product":"{'name': 'cookie', 'price': 1.2}","discounts":"{'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"}},"logged":"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"cookie","qty":4,"loyalty_points":350},"output":{"name":"price_line","payload":{"name":"cookie","qty":4,"subtotal":4.08,"discounts":{"bulk":"0.24","loyalty":"0.48"},"tax":0.8568,"total":4.9368,"trace":{"product":"{'name': 'cookie', 'price': 1.2}","discounts":"{'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}"}},"logged":"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}"},"error":null,"duration_ms":31.864,"memory_after":{}},{"id":39,"callable":"price_line","module":"samples.complex.demo.services.checkout","called":"price_line","caller":"checkout::checkout","instance_id":null,"inputs":{"name":"tea","qty":1,"loyalty_points":350},"calls":[{"id":40,"callable":"get_product","module":"samples.complex.demo.repository.products","called":"get_product","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"tea"},"calls":[{"id":41,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"get_product::get_product","instance_id":null,"inputs":{"name":"get_product","payload":{"name":"tea","price":2.9}},"calls":[{"id":42,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"get_product: {'name': 'tea', 'price': 2.9}"},"calls":[],"memory_before":{},"inputs_after":{"message":"get_product: {'name': 'tea', 'price': 2.9}"},"output":"[10:12:25] get_product: {'name': 'tea', 'price': 2.9}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"get_product","payload":{"name":"tea","price":2.9}},"output":{"name":"get_product","payload":{"name":"tea","price":2.9},"logged":"[10:12:25] get_product: {'name': 'tea', 'price': 2.9}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"tea"},"output":{"name":"get_product","payload":{"name":"tea","price":2.9},"logged":"[10:12:25] get_product: {'name': 'tea', 'price': 2.9}"},"error":null,"duration_ms":0.0,"memory_after":{}},{"id":43,"callable":"apply_discounts","module":"samples.complex.demo.pricing.discounts","called":"apply_discounts","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"tea","qty":1,"subtotal":2.9},"points":350},"calls":[{"id":44,"callable":"bulk_discount","module":"samples.complex.demo.pricing.discounts","called":"bulk_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":2.9,"items":1},"calls":[{"id":45,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"bulk_discount::bulk_discount","instance_id":null,"inputs":{"value":0.0,"low":0,"high":0.87},"calls":[],"memory_before":{},"inputs_after":{"value":0.0,"low":0,"high":0.87},"output":0,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":2.9,"items":1},"output":0,"error":null,"duration_ms":0.0,"memory_after":{}},{"id":46,"callable":"loyalty_discount","module":"samples.complex.demo.pricing.discounts","called":"loyalty_discount","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"subtotal":2.9,"points":350},"calls":[{"id":47,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"loyalty_discount::loyalty_discount","instance_id":null,"inputs":{"value":0.29,"low":0,"high":0.435},"calls":[],"memory_before":{},"inputs_after":{"value":0.29,"low":0,"high":0.435},"output":0.29,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"subtotal":2.9,"points":350},"output":0.29,"error":null,"duration_ms":0.0,"memory_after":{}},{"id":48,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_discounts::apply_discounts","instance_id":null,"inputs":{"name":"apply_discounts","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29}}},"calls":[{"id":49,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_discounts: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_discounts: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"},"output":"[10:12:25] apply_discounts: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_discounts","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29}}},"output":{"name":"apply_discounts","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"}},"logged":"[10:12:25] apply_discounts: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"tea","qty":1,"subtotal":2.9},"points":350},"output":{"name":"apply_discounts","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"}},"logged":"[10:12:25] apply_discounts: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"},"error":null,"duration_ms":16.146,"memory_after":{}},{"id":50,"callable":"apply_tax_line","module":"samples.complex.demo.pricing.tax","called":"apply_tax_line","caller":"price_line::price_line","instance_id":null,"inputs":{"item":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29}},"rate":0.21},"calls":[{"id":51,"callable":"vat","module":"samples.complex.demo.pricing.tax","called":"vat","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"amount":2.61,"rate":0.21},"calls":[{"id":52,"callable":"clamp","module":"samples.complex.demo.common.math_utils","called":"clamp","caller":"vat::vat","instance_id":null,"inputs":{"value":0.5480999999999999,"low":0,"high":5.22},"calls":[],"memory_before":{},"inputs_after":{"value":0.5480999999999999,"low":0,"high":5.22},"output":0.5480999999999999,"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"amount":2.61,"rate":0.21},"output":0.5480999999999999,"error":null,"duration_ms":0.0,"memory_after":{}},{"id":53,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"apply_tax_line::apply_tax_line","instance_id":null,"inputs":{"name":"apply_tax_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29},"tax":0.5480999999999999,"total":3.1580999999999997}},"calls":[{"id":54,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"apply_tax_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997}"},"calls":[],"memory_before":{},"inputs_after":{"message":"apply_tax_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997}"},"output":"[10:12:25] apply_tax_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"apply_tax_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29},"tax":0.5480999999999999,"total":3.1580999999999997}},"output":{"name":"apply_tax_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"},"tax":0.5480999999999999,"total":3.1580999999999997},"logged":"[10:12:25] apply_tax_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"item":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29}},"rate":0.21},"output":{"name":"apply_tax_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"},"tax":0.5480999999999999,"total":3.1580999999999997},"logged":"[10:12:25] apply_tax_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997}"},"error":null,"duration_ms":0.0,"memory_after":{}},{"id":55,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"price_line::price_line","instance_id":null,"inputs":{"name":"price_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29},"tax":0.5480999999999999,"total":3.1580999999999997,"trace":{"product":{"name":"'tea'","price":"2.9"},"discounts":{"name":"'tea'","qty":"1","subtotal":"2.61","discounts":"{'bulk': 0, 'loyalty': 0.29}"}}}},"calls":[{"id":56,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}"},"calls":[],"memory_before":{},"inputs_after":{"message":"price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}"},"output":"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"price_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":0,"loyalty":0.29},"tax":0.5480999999999999,"total":3.1580999999999997,"trace":{"product":{"name":"'tea'","price":"2.9"},"discounts":{"name":"'tea'","qty":"1","subtotal":"2.61","discounts":"{'bulk': 0, 'loyalty': 0.29}"}}}},"output":{"name":"price_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"},"tax":0.5480999999999999,"total":3.1580999999999997,"trace":{"product":"{'name': 'tea', 'price': 2.9}","discounts":"{'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"}},"logged":"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}"},"error":null,"duration_ms":12.469,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"tea","qty":1,"loyalty_points":350},"output":{"name":"price_line","payload":{"name":"tea","qty":1,"subtotal":2.61,"discounts":{"bulk":"0","loyalty":"0.29"},"tax":0.5480999999999999,"total":3.1580999999999997,"trace":{"product":"{'name': 'tea', 'price': 2.9}","discounts":"{'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}"}},"logged":"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}"},"error":null,"duration_ms":44.255,"memory_after":{}},{"id":57,"callable":"trace_call","module":"samples.complex.demo.common.logger","called":"trace_call","caller":"checkout::checkout","instance_id":null,"inputs":{"name":"checkout","payload":{"lines":[{"name":"'price_line'","payload":"{'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}","logged":"\"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\""},{"name":"'price_line'","payload":"{'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}","logged":"\"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\""},{"name":"'price_line'","payload":"{'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}","logged":"\"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\""}],"total":15.717899999999998,"loyalty_points":350}},"calls":[{"id":58,"callable":"log","module":"samples.complex.demo.common.logger","called":"log","caller":"trace_call::trace_call","instance_id":null,"inputs":{"message":"checkout: {'lines': [{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}, {'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}, {'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}], 'total': 15.717899999999998, 'loyalty_points': 350}"},"calls":[],"memory_before":{},"inputs_after":{"message":"checkout: {'lines': [{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}, {'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}, {'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}], 'total': 15.717899999999998, 'loyalty_points': 350}"},"output":"[10:12:26] checkout: {'lines': [{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}, {'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}, {'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}], 'total': 15.717899999999998, 'loyalty_points': 350}","error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"name":"checkout","payload":{"lines":[{"name":"'price_line'","payload":"{'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}","logged":"\"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\""},{"name":"'price_line'","payload":"{'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}","logged":"\"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\""},{"name":"'price_line'","payload":"{'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}","logged":"\"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\""}],"total":15.717899999999998,"loyalty_points":350}},"output":{"name":"checkout","payload":{"lines":["{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}","{'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}","{'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}"],"total":15.717899999999998,"loyalty_points":350},"logged":"[10:12:26] checkout: {'lines': [{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}, {'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}, {'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}], 'total': 15.717899999999998, 'loyalty_points': 350}"},"error":null,"duration_ms":0.0,"memory_after":{}}],"memory_before":{},"inputs_after":{"lines":[["coffee",2],["cookie",4],["tea",1]],"loyalty_points":350},"output":{"name":"checkout","payload":{"lines":["{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}","{'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}","{'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}"],"total":15.717899999999998,"loyalty_points":350},"logged":"[10:12:26] checkout: {'lines': [{'name': 'price_line', 'payload': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}, 'logged': \"[10:12:25] price_line: {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}, 'tax': 1.323, 'total': 7.622999999999999, 'trace': {'product': {'name': 'coffee', 'price': 3.5}, 'discounts': {'name': 'coffee', 'qty': 2, 'subtotal': 6.3, 'discounts': {'bulk': 0, 'loyalty': 0.7000000000000001}}}}\"}, {'name': 'price_line', 'payload': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}, 'logged': \"[10:12:25] price_line: {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}, 'tax': 0.8568, 'total': 4.9368, 'trace': {'product': {'name': 'cookie', 'price': 1.2}, 'discounts': {'name': 'cookie', 'qty': 4, 'subtotal': 4.08, 'discounts': {'bulk': 0.24, 'loyalty': 0.48}}}}\"}, {'name': 'price_line', 'payload': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}, 'logged': \"[10:12:25] price_line: {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}, 'tax': 0.5480999999999999, 'total': 3.1580999999999997, 'trace': {'product': {'name': 'tea', 'price': 2.9}, 'discounts': {'name': 'tea', 'qty': 1, 'subtotal': 2.61, 'discounts': {'bulk': 0, 'loyalty': 0.29}}}}\"}], 'total': 15.717899999999998, 'loyalty_points': 350}"},"error":null,"duration_ms":109.521,"memory_after":{}}],"memory_before":{},"memory_after":{}}]